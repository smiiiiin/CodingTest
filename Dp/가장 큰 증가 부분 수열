//백준 11055
#include<iostream>
#include<algorithm>
using namespace std;
int n;
int a[1002];
int dp[1002];
int sum{0};

int main(){
    cin>>n;
    for(int y=1;y<=n;y++){
        cin>>a[y]; 
        dp[y]=a[y];
    }
   
    for(int y=2;y<=n;y++){
        for(int x=1;x<y;x++){
            if(a[y]>a[x]){
                dp[y]= max(dp[y],a[y]+dp[x]);
    }}}
    
    cout<<*max_element(dp+1,dp+n+1);
    
return 0;}
