//백준 11054
#include <bits/stdc++.h>
using namespace std;

int n;
//int a[1010]={1,}; 너무 중요한 사실!!! 이거는 0으로 초기화하는거다. 처음에 a[0]=1만 하고!!
int a[1010];
int inc_dp[1010];
int dec_dp[1010];

int main(){
   
    cin>>n;
   fill_n(inc_dp+1,n,1);
   fill_n(dec_dp+1,n,1);
   
    for(int i=1;i<=n;i++){
        cin>>a[i];}
        
    for(int y=2;y<=n;y++){
        for(int x=1;x<y;x++){
            if(a[y]>a[x]){
            inc_dp[y]= max(inc_dp[y], inc_dp[x]+1);
            }
        }
    }
    
    for(int y=n-1;y>=1;y--){
        for(int x=n;x>y;x--){
            if(a[y]>a[x]){
            dec_dp[y]= max(dec_dp[y], dec_dp[x]+1);
            }
        }
    }
    
    int max{0};
    for(int i=1;i<=n;i++){
        if(max<inc_dp[i]+dec_dp[i]){
       max=inc_dp[i]+dec_dp[i];}}
    cout<<max-1<<endl;
   
    return 0;
}   
