// 1717 집합의 표현
/* 
    <!중요!>
    
   1 2 3 4 5 6
   1 1 2 3 4 5
   
   find(6);할때 어차피 찾을 거 6>5>4>3>2>1 할때 상위 재귀함수에 대한 최적화를 위해 어차피 돌 것, 저장하면서 돌자 그러면 다음에
   find(3); 하면O(n)time이 아니라, O(1)time에 찾을 수 있다 전에 이미 저장을 해놨기 때문에 
   
   */

#include<iostream>
#include<algorithm>
using namespace std;

int parent[1000001];

int find(int x) { //재귀로 root노드를 찾는다
    if(x==parent[x]) return x;
    parent[x] =find(parent[x]);
    return parent[x];}

void join(int x, int y) {
    x=find(x); y=find(y);
    if(x==y) return;
    parent[y] = x;}

int main() {
    int n, m;
    scanf("%d%d", &n, &m);
    
    // 초기화
    for (int i = 1; i < 1000001; i++) parent[i] = i;
    
    for (int i = 0; i < m; i++) {
        int a, b, c;
        scanf("%d%d%d", &c, &a, &b);
        if (c == 0) join(a, b);
        
        else {
            if (find(a) == find(b)) printf("YES\n");
            else printf("NO\n");}}
    return 0;}

/* 합집합, 같은 집합에 있냐?
 
 ! 내 부모와 (Root)조상을 같게 만든다
 
 
 <n 원소 개수 m 질문 개수>
 
 0 a b      a,b를 합집합한다
 1 a b      a,b는 같은 집합에 있냐?
 Disjoint Set 서로소집합
 
 ! 합집합: 연결점 하나로, 우리는 하나
 
 */
